"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[8576],{9864:function(e,n,s){var t=s(1413),a=s(70885),i=s(47313),o=s(43270),l=s(10499),r=s(89994),c=s(95748),d=s(68160),u=s(3463),m=s(67357),f=s(47575),g=s(68031),b=s(46417),v=u.Ry().shape({user:r.Z.relationToOne((0,l.ag)("entities.assets.fields.user"),{required:!0}),symbol:r.Z.string((0,l.ag)("entities.assets.fields.symbol"),{required:!0}),coinName:r.Z.string((0,l.ag)("entities.assets.fields.coinName"),{required:!0}),amount:r.Z.decimal((0,l.ag)("entities.assets.fields.amount"),{required:!0})});n.Z=function(e){var n=(0,i.useState)((function(){var n=e.record||{};return{user:n.user||null,symbol:n.symbol||"",coinName:n.coinName||"",amount:n.amount||""}})),s=(0,a.Z)(n,1)[0],r=(0,o.cI)({resolver:(0,m.X)(v),mode:"all",defaultValues:s}),u=function(n){var s;e.onSubmit(null===(s=e.record)||void 0===s?void 0:s.id,n)};return(0,b.jsx)(d.Z,{children:(0,b.jsx)(o.RV,(0,t.Z)((0,t.Z)({},r),{},{children:(0,b.jsxs)("form",{onSubmit:r.handleSubmit(u),children:[(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,b.jsx)(g.Z,{name:"user",label:(0,l.ag)("entities.assets.fields.user"),required:!0})}),(0,b.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,b.jsx)(f.Z,{name:"symbol",label:(0,l.ag)("entities.assets.fields.symbol"),required:!0})}),(0,b.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,b.jsx)(f.Z,{name:"coinName",label:(0,l.ag)("entities.assets.fields.coinName"),required:!0})}),(0,b.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,b.jsx)(f.Z,{name:"amount",label:(0,l.ag)("entities.assets.fields.amount"),required:!0})})]}),(0,b.jsxs)("div",{className:"form-buttons",children:[(0,b.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:r.handleSubmit(u),children:[(0,b.jsx)(c.Z,{loading:e.saveLoading,iconClass:"far fa-save"}),"\xa0",(0,l.ag)("common.save")]}),(0,b.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(s).forEach((function(e){r.setValue(e,s[e])}))},children:[(0,b.jsx)("i",{className:"fas fa-undo"}),"\xa0",(0,l.ag)("common.reset")]}),e.onCancel?(0,b.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[(0,b.jsx)("i",{className:"fas fa-times"}),"\xa0",(0,l.ag)("common.cancel")]}):null]})]})}))})}},88576:function(e,n,s){s.r(n),s.d(n,{default:function(){return h}});var t=s(70885),a=s(47313),i=s(45788),o=s(63830),l=s(10499),r=s(99671),c=s(76747),d=function(e){return e.vip.form},u=(0,c.P1)([d],(function(e){return e.record})),m={selectInitLoading:(0,c.P1)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,c.P1)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:u,selectRaw:d},f=s(40476),g=s(9864),b=s(27829),v=s(61567),x=s(75352),j=s(46417);var h=function(e){var n=(0,a.useState)(!1),s=(0,t.Z)(n,2),c=s[0],d=s[1],u=(0,i.I0)(),h=(0,o.$B)(),p=(0,i.v9)(m.selectInitLoading),Z=(0,i.v9)(m.selectSaveLoading),N=(0,i.v9)(m.selectRecord),y=Boolean(h.params.id),C=y?(0,l.ag)("entities.assets.edit.title"):(0,l.ag)("entities.assets.new.title");return(0,a.useEffect)((function(){u(r.Z.doInit(h.params.id)),d(!0)}),[u,h.params.id]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(b.Z,{children:[(0,j.jsx)(x.Z,{children:C}),p&&(0,j.jsx)(v.Z,{}),c&&!p&&(0,j.jsx)(g.Z,{saveLoading:Z,initLoading:p,record:N,isEditing:y,onSubmit:function(e,n){u(y?r.Z.doUpdate(e,n):r.Z.doCreate(n))},onCancel:function(){return(0,f.s1)().push("/assets")}})]})})}},61567:function(e,n,s){s(47313);var t=s(46417);n.Z=function(){return(0,t.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,t.jsx)("div",{className:"spinner-border text-primary"})})}}}]);